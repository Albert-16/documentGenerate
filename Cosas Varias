using System;
using System.IO;

public static class PdfBase64SimpleHelper
{
    /// <summary>
    /// Convierte un PDF a Base64.
    /// </summary>
    /// <param name="fileName">Nombre del archivo PDF (ej: "Contrato.pdf").</param>
    /// <param name="directory">Directorio donde está el archivo (ej: @"C:\Banco\Docs").</param>
    /// <returns>Cadena Base64 del PDF.</returns>
    public static string ConvertToBase64(string fileName, string directory)
    {
        if (string.IsNullOrWhiteSpace(fileName))
            throw new ArgumentException("El nombre del archivo no puede ser vacío.", nameof(fileName));

        if (string.IsNullOrWhiteSpace(directory))
            throw new ArgumentException("El directorio no puede ser vacío.", nameof(directory));

        // Arma la ruta completa
        string fullPath = Path.Combine(directory, fileName);

        if (!File.Exists(fullPath))
            throw new FileNotFoundException("No se encontró el archivo PDF.", fullPath);

        // Lee todos los bytes y devuelve Base64
        byte[] pdfBytes = File.ReadAllBytes(fullPath);
        return Convert.ToBase64String(pdfBytes, Base64FormattingOptions.None);
    }
}
